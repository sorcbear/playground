<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ppl</title>

<style>
:root{
  --c-blue:#0070c0;
  --c-cyan:#00b0f0;
  --c-green:#00b050;
  --c-lgreen:#92d050;
  --c-yellow:#ffff00;
  --c-orange:#ffc000;
  --c-red:#ff0000;
  --c-purple:#7030a0;
}

body{
  margin:0;
  background:#fff;
  font-family:"Microsoft YaHei","PingFang SC","Noto Sans SC",sans-serif;
}

.wrap{
  max-width:980px;
  margin:0 auto;
  padding:20px;
}

/* 图片容器：用于叠加文字 */
.hero{
  position:relative;
}

img{
  width:100%;
  display:block;
}

/* 叠加文字样式 */
.overlay{
  position:absolute;
  left:16px;
  right:16px;
  top:14px;
  padding:12px 14px;
  box-sizing:border-box;
  background:rgba(255,255,255,0.78);
  border:2px solid #000;
  font-size:18px;
  line-height:1.6;
  color:#111;
}

@media (max-width:480px){
  .overlay{
    left:10px;
    right:10px;
    top:10px;
    padding:10px 12px;
    font-size:16px;
  }
}

.code{
  margin-top:18px;
  display:flex;
  align-items:center;
  flex-wrap:wrap;
  gap:8px;
  font-size:18px;
}

.slot{
  height:46px;
  line-height:44px;
  border:2px solid #000;
  font-size:22px;
  font-weight:700;
  text-align:center;
  resize:none;
  outline:none;
  padding:0 6px;
  box-sizing:border-box;
}

.w1{ width:50px; }
.w2{ width:84px; }

textarea{ overflow:hidden; }

.rd{
  height:46px;
  width:60px;
  border:3px solid #c00000;
  color:#c00000;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
}

.buttons{
  margin-top:20px;
  display:flex;
  gap:18px;
}

button{
  flex:1;
  height:64px;
  border-radius:32px;
  border:none;
  background:#111;
  color:#fff;
  font-size:22px;
  font-weight:700;
  cursor:pointer;
}

button:active{
  transform:scale(0.98);
}

.msg{
  margin-top:14px;
  font-size:20px;
  font-weight:700;
}
.success{ color:#1a7f37; }
.fail{ color:#b00020; }
</style>
</head>

<body>
<div class="wrap">

  <div class="hero">
    <img src="puzzle.png" alt="puzzle">
    <div class="overlay">
      原来是那一天，记得参加完签售会后，我去了衡山公园约会，那有一个有趣的名人雕塑，不如去那找找线索，完成以下谜题。
    </div>
  </div>

  <div class="code">
    <div>暗号：</div>

    <textarea id="s1" class="slot w1" style="background:var(--c-blue)"></textarea>
    <textarea id="s2" class="slot w2" style="background:var(--c-cyan)"></textarea>
    <textarea id="s3" class="slot w1" style="background:var(--c-green)"></textarea>
    <textarea id="s4" class="slot w2" style="background:var(--c-lgreen)"></textarea>

    <div class="rd">RD</div>

    <textarea id="s5" class="slot w1" style="background:var(--c-yellow)"></textarea>
    <textarea id="s6" class="slot w1" style="background:var(--c-orange)"></textarea>
    <textarea id="s7" class="slot w1" style="background:var(--c-red)"></textarea>
    <textarea id="s8" class="slot w1" style="background:var(--c-purple)"></textarea>
  </div>

  <div class="buttons">
    <button onclick="resetAll()">Reset</button>
    <button onclick="check()">Submit</button>
  </div>

  <div id="msg" class="msg"></div>
</div>

<script>
const ANSWER = ["四","君子","在","衡山","五","四","三","号"];
const ids = ["s1","s2","s3","s4","s5","s6","s7","s8"];

const NEXT_URL = "https://sorcbear.github.io/playground/riddle/";

function clean(v){
  return v.replace(/\s/g,"");
}

function check(){
  const ok = ids.every((id,i)=>{
    return clean(document.getElementById(id).value) === ANSWER[i];
  });
  const msg = document.getElementById("msg");
  if(ok){
    msg.textContent = "success";
    msg.className = "msg success";
    // 给用户看到 success，再跳转
    setTimeout(()=>{ location.href = NEXT_URL; }, 600);
  }else{
    msg.textContent = "try again";
    msg.className = "msg fail";
  }
}

function resetAll(){
  ids.forEach(id=>document.getElementById(id).value="");
  const msg = document.getElementById("msg");
  msg.textContent="";
  msg.className="msg";
}
</script>
</body>
</html>
